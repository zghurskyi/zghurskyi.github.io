<!DOCTYPE html><html lang="en"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="author" content="Oleksii Zghurskyi"><meta name="robots" content="all"><title>Trick Of The Day: Copy DB dump from one Docker container to another</title><meta name="description" content="How to copy MySQL dump from one Docker container to another ?SituationYou need to create DB dump in one Docker container and apply it in another Docker container.ApplicationCrate DB dump on staging env and apply it on local env to experiment with exist..."><meta name="keywords" content="Docker,MySQL"><link rel="shortcut icon" type="image/png" href="/favicon.png"><link rel="dns-prefetch" href="//cdnjs.cloudflare.com"><link rel="dns-prefetch" href="//maxcdn.bootstrapcdn.com"><link rel="dns-prefetch" href="//disqus.com"><link rel="dns-prefetch" href="//c.disquscdn.com"><link rel="canonical" href="https://www.oxymorus.com/docker-mysql-dump/"><link rel="alternate" type="application/rss+xml" title="Yet Another Blog" href="/atom.xml"><link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"><link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/styles/androidstudio.min.css"><link rel="stylesheet" href="/css/main.css?v=33"><link rel="stylesheet" href="/css/conum.css?v=33"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Noto+Serif:400,700,400italic"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Code+Pro"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Droid+Sans+Mono:400,700"><meta name="description" content="How to copy MySQL dump from one Docker container to another ?"><meta name="keywords" content="Docker,MySQL"><meta property="og:type" content="article"><meta property="og:title" content="Trick Of The Day: Copy DB dump from one Docker container to another"><meta property="og:url" content="https://www.oxymorus.com/docker-mysql-dump/index.html"><meta property="og:site_name" content="Yet Another Blog"><meta property="og:description" content="How to copy MySQL dump from one Docker container to another ?"><meta property="og:locale" content="en"><meta property="og:image" content="https://www.oxymorus.com/images/bg-index.jpg"><meta property="og:updated_time" content="2019-04-23T22:52:55.000Z"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="Trick Of The Day: Copy DB dump from one Docker container to another"><meta name="twitter:description" content="How to copy MySQL dump from one Docker container to another ?"><meta name="twitter:image" content="https://www.oxymorus.com/images/bg-index.jpg"><meta name="twitter:creator" content="@zghurskyi"><script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.oxymorus.com/docker-mysql-dump/"},"headline":"Trick Of The Day: Copy DB dump from one Docker container to another","image":{"@type":"ImageObject","url":"https://www.oxymorus.com/images/bg-index.jpg"},"datePublished":"2019-04-23T22:52:55.000Z","dateModified":"2019-04-23T22:52:55.000Z","author":{"@type":"Person","name":"Oleksii Zghurskyi"},"publisher":{"@type":"Organization","name":"Yet Another Blog","logo":{"@type":"ImageObject","url":"https://www.oxymorus.com/images/site-logo.jpg","height":60,"width":600}},"description":"How to copy MySQL dump from one Docker container to another ?","keywords":"Docker,MySQL"}</script></head><body class="layout-post"><nav class="navbar navbar-default navbar-fixed-top navbar-custom"><div class="container-fluid"><div class="navbar-header"><button type="button" data-toggle="collapse" data-target="#main-navbar" class="navbar-toggle"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/" class="navbar-brand"><span>Only choice</span></a></div><div id="main-navbar" class="collapse navbar-collapse"><ul class="nav navbar-nav navbar-right"><li><a href="/archives">Archive</a></li><li><a href="https://github.com/zghurskyi/zghurskyi.github.io">Github</a></li><li><a href="https://travis-ci.org/zghurskyi/zghurskyi.github.io"><img src="https://travis-ci.org/zghurskyi/zghurskyi.github.io.png?branch=develop"></a></li></ul></div></div></nav><header class="header-section"><div style="background-image:url(/img/post-bg-10.jpg)" class="intro-header"><div class="container"><div class="row"><div class="col-lg-10 col-lg-offset-1 col-md-10 col-md-offset-1"><div class="post-heading"><a href="/categories/docker/" class="category">Docker</a><a href="/categories/docker/mysql/" class="category">MySQL</a><a href="/categories/docker/mysql/dump/" class="category">dump</a><h1>Trick Of The Day: Copy DB dump from one Docker container to another</h1><div class="post-meta"><ul><li><time datetime="2019-04-23T22:52:55.000Z" itemprop="datePublished">Apr 23, 2019</time></li><li>1 minutes read</li><li><a href="https://www.oxymorus.com/docker-mysql-dump/#disqus_thread">0 Comments</a></li></ul></div></div></div></div></div></div></header><div class="container"><div class="row"><div class="col-lg-10 col-lg-offset-1 col-md-10 col-md-offset-1"><article role="main" class="blog-post"><div class="paragraph"><p>How to copy MySQL dump from one Docker container to another ?</p></div><a id="more"></a><div class="sect1"><h2>Situation</h2><div class="sectionbody"><div class="paragraph"><p>You need to create DB dump in one Docker container and apply it in another Docker container.</p></div></div></div><div class="sect1"><h2>Application</h2><div class="sectionbody"><div class="paragraph"><p>Crate DB dump on staging env and apply it on local env to experiment with existing database.</p></div></div></div><div class="sect1"><h2>Solution</h2><div class="sectionbody"><div class="ulist"><ul><li><p>Connect to first container:</p></li></ul></div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">$ docker exec -ti mysql-staging /bin/bash</code></pre></div></div><div class="ulist"><ul><li><p>Create DB dump:</p></li></ul></div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">$ mysqldump -u user -p --databases db &gt; /tmp/db.sql</code></pre></div></div><div class="ulist"><ul><li><p>Copy dump to localhost:</p></li></ul></div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh"># general syntax:
# docker cp CONTAINER:SRC_PATH DEST_PATH
$ docker cp mysql:/tmp/db.sql /tmp/db.sql</code></pre></div></div><div class="ulist"><ul><li><p>Copy dump to second container:</p></li></ul></div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh"># general syntax:
# docker cp DEST_PATH CONTAINER:SRC_PATH
$ docker cp /tmp/db.sql mysql:/tmp/db.sql</code></pre></div></div><div class="ulist"><ul><li><p>Apply DB dump:</p></li></ul></div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">$ docker exec -ti mysql /bin/bash
$ mysql -u user -p
-- Run the backup script to recreate the database
mysql&gt; drop database if exists db;
mysql&gt; source /tmp/db.sql</code></pre></div></div></div></div><section class="post-tags"><a href="/tags/docker/" class="tag post-meta">#Docker</a><a href="/tags/mysql/" class="tag post-meta">#MySQL</a></section><footer class="post-footer"><img src="https://www.gravatar.com/avatar/729584bb1060b4346ad910cf602ffc1c?s=200" class="img-responsive img-circle"><div class="row author"><div class="col-lg-8 col-lg-offset-2 col-xs-10 col-xs-offset-1"><h4>Oleksii Zghurskyi</h4><p></p><ul class="social-links"><li><a href="https://twitter.com/zghurskyi" onclick="return window.open(this.href),!1"><span class="fa fa-twitter"></span></a></li><li><a href="https://github.com/zghurskyi" onclick="return window.open(this.href),!1"><span class="fa fa-github"></span></a></li><li><a href="https://stackoverflow.com/users/2810730/oleksii-zghurskyi?tab=profile" onclick="return window.open(this.href),!1"><span class="fa fa-stack-overflow"></span></a></li><li><a href="https://www.linkedin.com/in/oleksii-zghurskyi-96500175/" onclick="return window.open(this.href),!1"><span class="fa fa-linkedin"></span></a></li></ul></div></div></footer><section class="related-posts"><h2>You may also like</h2><div class="row"><div class="col-lg-4"><a href="/observability/"><img src="/images/bg-index.jpg" class="img-responsive"><h3>Monitoring Spring Boot service with Prometheus and Grafana</h3></a><p>Different people mean different things, when they talk about observability. To stay practical and concrete, by observability I mean monitoring, tracing and logging. In this post I will give recipe ...</p></div></div></section></article><nav role="pagination" class="pagination"><a href="/clone-all-github-repos/" class="pull-left btn">‚Üê Next post</a></nav><div class="disqus-comments"><div class="comments"><div id="disqus_thread"></div></div></div><script>var url_parts=window.location.href.split("?"),disqus_url=url_parts[0];!function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="//oxymorus.disqus.com/embed.js",(document.head||d.body).appendChild(t)}()</script></div></div></div><script id="dsq-count-scr" src="//oxymorus.disqus.com/count.js"></script><footer class="site-footer"><div class="container-fluid"><div class="row"><div class="col-lg-10 col-lg-offset-1 col-xs-10 col-xs-offset-1"><div class="row"><div class="col-lg-4"><h4>https://www.oxymorus.com/ ¬© 2019</h4><p><em>"Lock it, fill it, curl it, find it, View it, code it, jam, unlock it"</em></p><p><a href="/privacy-policy/">Privacy policy</a></p><p>This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png"></a></p></div><div class="col-lg-4"><h4 class="marked">Recent articles</h4><section class="recent-posts"><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/camel-masking-sensitive-information/">Apache Camel: Masking sensitive information</a></li><li class="post-list-item"><a class="post-list-link" href="/optimistic-locking-with-reactor-and-aerospike/">Optimistic locking with Aerospike and Project Reactor</a></li><li class="post-list-item"><a class="post-list-link" href="/pessimistic-locking-with-reactor-and-aerospike/">Pessimistic locking with Aerospike and Project Reactor</a></li><li class="post-list-item"><a class="post-list-link" href="/concurrent-sum-of-numbers/">Java concurrency tools</a></li><li class="post-list-item"><a class="post-list-link" href="/observability/">Monitoring Spring Boot service with Prometheus and Grafana</a></li><li class="post-list-item"><a class="post-list-link" href="/language-features-java8-to-java11/">From Java 8 to 11: quick tour</a></li></ul></section></div><div class="col-lg-4"><h4 class="marked">Stay connected</h4><div class="social-links"><ul><li><a href="https://twitter.com/zghurskyi" onclick="return window.open(this.href),!1"><span class="fa fa-twitter"></span></a></li><li><a href="https://github.com/zghurskyi" onclick="return window.open(this.href),!1"><span class="fa fa-github"></span></a></li><li><a href="https://stackoverflow.com/users/2810730/oleksii-zghurskyi?tab=profile" onclick="return window.open(this.href),!1"><span class="fa fa-stack-overflow"></span></a></li><li><a href="https://www.linkedin.com/in/oleksii-zghurskyi-96500175/" onclick="return window.open(this.href),!1"><span class="fa fa-linkedin"></span></a></li></ul></div><h4 class="marked">Most popular tags</h4><section class="tagcloud"><a href="/tags/acid/" style="font-size:8pt;color:#6a6a6a">ACID</a> <a href="/tags/aerospike/" style="font-size:32pt;color:#bababa">Aerospike</a> <a href="/tags/apache-camel/" style="font-size:8pt;color:#6a6a6a">Apache Camel</a> <a href="/tags/apache-kafka/" style="font-size:8pt;color:#6a6a6a">Apache Kafka</a> <a href="/tags/blocking-processing/" style="font-size:8pt;color:#6a6a6a">Blocking processing</a> <a href="/tags/camelcustomlogmask/" style="font-size:8pt;color:#6a6a6a">CamelCustomLogMask</a> <a href="/tags/data-access-layer/" style="font-size:32pt;color:#bababa">Data Access Layer</a> <a href="/tags/docker/" style="font-size:32pt;color:#bababa">Docker</a> <a href="/tags/github/" style="font-size:8pt;color:#6a6a6a">Github</a> <a href="/tags/isolation/" style="font-size:8pt;color:#6a6a6a">Isolation</a> <a href="/tags/java/" style="font-size:8pt;color:#6a6a6a">Java</a> <a href="/tags/java-9/" style="font-size:8pt;color:#6a6a6a">Java 9</a> <a href="/tags/lost-update/" style="font-size:8pt;color:#6a6a6a">Lost Update</a> <a href="/tags/mysql/" style="font-size:8pt;color:#6a6a6a">MySQL</a> <a href="/tags/non-blocking-processing/" style="font-size:8pt;color:#6a6a6a">Non-blocking processing</a> <a href="/tags/optimistic-locking/" style="font-size:32pt;color:#bababa">Optimistic Locking</a> <a href="/tags/pessimistic-locking/" style="font-size:32pt;color:#bababa">Pessimistic Locking</a> <a href="/tags/project-reactor/" style="font-size:32pt;color:#bababa">Project Reactor</a> <a href="/tags/reactive/" style="font-size:8pt;color:#6a6a6a">Reactive</a> <a href="/tags/spring-boot-starter/" style="font-size:8pt;color:#6a6a6a">Spring Boot Starter</a> <a href="/tags/topic-provisioning/" style="font-size:8pt;color:#6a6a6a">Topic Provisioning</a> <a href="/tags/transaction/" style="font-size:8pt;color:#6a6a6a">Transaction</a> <a href="/tags/back-pressure/" style="font-size:8pt;color:#6a6a6a">back-pressure</a> <a href="/tags/clone/" style="font-size:8pt;color:#6a6a6a">clone</a> <a href="/tags/jq/" style="font-size:8pt;color:#6a6a6a">jq</a></section></div></div></div></div></div><section class="poweredby"><ul class="text-center"><li><span>Published with </span><a href="https://hexo.io" onclick="return window.open(this.href),!1"><img src="/img/logo-hexo.png"></a></li><li><span>Hosted on </span><a href="https://github.com/zghurskyi/zghurskyi.github.io" onclick="return window.open(this.href),!1"><img src="/img/logo-github.png"></a></li><li><span>Deployed with </span><a href="https://travis-ci.org/zghurskyi/zghurskyi.github.io" onclick="return window.open(this.href),!1"><img src="/img/logo-travis.png"></a></li></ul></section></footer><script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script><script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script><script id="cookiebanner" src="//cdnjs.cloudflare.com/ajax/libs/cookie-banner/1.2.2/cookiebanner.min.js" data-moreinfo="/privacy-policy/" data-message="This blog uses cookies to enhance your experience. By continuing to visit it you agree to its use of cookies." data-link="#ffad33" data-font-family="Lora,serif" data-font-size="1.6rem" data-bg="#444"></script><script src="/js/main.js?v=5"></script><script src="/js/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad()</script><script>"localhost"!==window.location.hostname&&"127.0.0.1"!==window.location.hostname&&(!function(a,e,n,o,t,c,g){a.GoogleAnalyticsObject=t,a.ga=a.ga||function(){(a.ga.q=a.ga.q||[]).push(arguments)},a.ga.l=1*new Date,c=e.createElement(n),g=e.getElementsByTagName(n)[0],c.async=1,c.src="//www.google-analytics.com/analytics.js",g.parentNode.insertBefore(c,g)}(window,document,"script",0,"ga"),ga("create","UA-143749857-1","auto"),ga("send","pageview"))</script></body></html>
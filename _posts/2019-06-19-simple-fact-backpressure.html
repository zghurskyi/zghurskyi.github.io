---
layout: post
title:  "Simple fact #2: Back-Pressure"
subtitle: "What & How"
date:   2019-06-19 22:22:13
background: '/img/posts/06.jpg'
---

<h1>Back-Pressure</h1>
<p>On the internet there many defintions of "back-pressure".</p>
<p>For example, this is how it's defined in <a href="https://www.reactivemanifesto.org/glossary#Back-Pressure">Reactive Manifesto</a>:<p>
<div style="background-color: #ddffdd; border-left: 6px solid #4CAF50;">
  <p><strong>Back-Pressure</strong>When one component is struggling to keep-up, 
  the system as a whole needs to respond in a sensible way.
  It is unacceptable for the component under stress to fail catastrophically or to drop messages in an uncontrolled fashion. 
  Since it can’t cope and it can’t fail it should communicate the fact 
  that it is under stress to upstream components and so get them to reduce the load. 
  This back-pressure is an important feedback mechanism that allows systems to gracefully respond to load
  rather than collapse under it. 
  The back-pressure may cascade all the way up to the user,
  at which point responsiveness may degrade, 
  but this mechanism will ensure that the system is resilient under load,
  and will provide information that may allow the system itself to apply other resources 
  to help distribute the load</p>
</div>

<p>Let's illustrate the situation that may motivate to apply some back-pressure.</p>
<img src="/img/backpressure.png" alt="Back-pressure">
<p>So, essentially the problem here is the mismatch in throughput between services.</p>

<h1>Implementing back-pressure in practice</h1>
<p>Once you are in the situation described above, essentially you have following choices:<p>
<ul>
  <li><b>(Auto-)Scalling</b> service, that is under pressure (e.g. in the example above: service B)</li>
  <li><b>Dropping down</b> incomming requests once service under pressure is saturated</li>
  <li><b>Buffering</b> requests (e.g. in the example above: introduce some messaging system between service A and B)</li>
  <li><b>Control</b> the request producer (e.g. in the example above: service B should be able to slow down/speed up service A)</li>
</ul>

<!DOCTYPE html><html lang="en"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="author" content="Oleksii Zghurskyi"><meta name="robots" content="all"><title>Dynamic Kafka routes with Apache Camel</title><meta name="description" content="Suppose, you have a task to implement dynamic routes configuration with Apache Camel. Or more concretely, you want to create Camel routes without having to add new route definitions just by changing configuration.I recently encountered similar task, an..."><meta name="keywords" content="Apache Camel,Apache Kafka,Dynamic Routes,Spring Boot"><link rel="shortcut icon" type="image/png" href="/favicon.png"><link rel="dns-prefetch" href="//cdnjs.cloudflare.com"><link rel="dns-prefetch" href="//maxcdn.bootstrapcdn.com"><link rel="dns-prefetch" href="//disqus.com"><link rel="dns-prefetch" href="//c.disquscdn.com"><link rel="canonical" href="https://www.zghurskyi.com/camel-dynamic-routes/"><link rel="alternate" type="application/rss+xml" title="Oxymorus Blog" href="/atom.xml"><link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"><link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/styles/androidstudio.min.css"><link rel="stylesheet" href="/css/main.css?v=33"><link rel="stylesheet" href="/css/conum.css?v=33"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Noto+Serif:400,700,400italic"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Code+Pro"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Droid+Sans+Mono:400,700"><meta name="description" content="Suppose, you have a task to implement dynamic routes configuration with Apache Camel. Or more concretely, you want to create Camel routes without having to add new route definitions just by changing c"><meta name="keywords" content="Apache Camel,Apache Kafka,Dynamic Routes,Spring Boot"><meta property="og:type" content="article"><meta property="og:title" content="Dynamic Kafka routes with Apache Camel"><meta property="og:url" content="https://www.zghurskyi.com/camel-dynamic-routes/index.html"><meta property="og:site_name" content="Oxymorus Blog"><meta property="og:description" content="Suppose, you have a task to implement dynamic routes configuration with Apache Camel. Or more concretely, you want to create Camel routes without having to add new route definitions just by changing c"><meta property="og:locale" content="en"><meta property="og:image" content="https://www.zghurskyi.com/images/bg-index.jpg"><meta property="og:updated_time" content="2020-02-23T12:54:41.000Z"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="Dynamic Kafka routes with Apache Camel"><meta name="twitter:description" content="Suppose, you have a task to implement dynamic routes configuration with Apache Camel. Or more concretely, you want to create Camel routes without having to add new route definitions just by changing c"><meta name="twitter:image" content="https://www.zghurskyi.com/images/bg-index.jpg"><meta name="twitter:creator" content="@zghurskyi"><script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.zghurskyi.com/camel-dynamic-routes/"},"headline":"Dynamic Kafka routes with Apache Camel","image":{"@type":"ImageObject","url":"https://www.zghurskyi.com/images/bg-index.jpg"},"datePublished":"2019-10-01T16:53:41.000Z","dateModified":"2020-02-23T12:54:41.000Z","author":{"@type":"Person","name":"Oleksii Zghurskyi"},"publisher":{"@type":"Organization","name":"Oxymorus Blog","logo":{"@type":"ImageObject","url":"https://www.zghurskyi.com/images/site-logo.jpg","height":60,"width":600}},"description":"Suppose, you have a task to implement dynamic routes configuration with Apache Camel. Or more concretely, you want to create Camel routes without having to add new route definitions just by changing configuration.I recently encountered similar task, and as it turned out&#8201;&#8212;&#8201;there is a simple way to get things done . So, in this post I will share the solution.","keywords":"Apache Camel,Apache Kafka,Dynamic Routes,Spring Boot"}</script></head><body class="layout-post"><nav class="navbar navbar-default navbar-fixed-top navbar-custom"><div class="container-fluid"><div class="navbar-header"><button type="button" data-toggle="collapse" data-target="#main-navbar" class="navbar-toggle"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/" style="color:#000" class="navbar-brand"><span>Home</span></a></div><div id="main-navbar" class="collapse navbar-collapse"><ul class="nav navbar-nav navbar-right"><li><a href="/archives">Archive</a></li><li><a href="https://github.com/zghurskyi/zghurskyi.github.io">Github</a></li><li><a href="https://app.travis-ci.com/zghurskyi/zghurskyi.github.io"><img src="https://app.travis-ci.com/zghurskyi/zghurskyi.github.io.svg?branch=develop"></a></li></ul></div></div></nav><header class="header-section"><div style="background-image:url(/img/post-bg-02.jpg)" class="intro-header"><div class="container"><div class="row"><div class="col-lg-10 col-lg-offset-1 col-md-10 col-md-offset-1"><div class="post-heading"><a href="/categories/apache-camel/" class="category">Apache Camel</a><a href="/categories/apache-camel/apache-kafka/" class="category">Apache Kafka</a><a href="/categories/apache-camel/apache-kafka/dynamic-routes/" class="category">Dynamic Routes</a><a href="/categories/apache-camel/apache-kafka/dynamic-routes/spring-boot/" class="category">Spring Boot</a><h1>Dynamic Kafka routes with Apache Camel</h1><div class="post-meta"><ul><li><time datetime="2019-10-01T16:53:41.000Z" itemprop="datePublished">Oct 1, 2019</time></li><li>4 minutes read</li><li><a href="https://www.zghurskyi.com/camel-dynamic-routes/#disqus_thread">0 Comments</a></li></ul></div></div></div></div></div></div></header><div class="container"><div class="row"><div class="col-lg-10 col-lg-offset-1 col-md-10 col-md-offset-1"><article role="main" class="blog-post"><div class="paragraph"><p>Suppose, you have a task to implement dynamic routes configuration with Apache Camel. Or more concretely, you want to create Camel routes without having to add new route definitions just by changing configuration.</p></div><div class="paragraph"><p>I recently encountered similar task, and as it turned out&#8201;&#8212;&#8201;there is a simple way to get things done . So, in this post I will share the solution.</p></div><a id="more"></a><div class="sect1"><h2>1. Motivation</h2><div class="sectionbody"><div class="paragraph"><p>First, let&#8217;s define what initial state is and what we want to build.</p></div><div class="paragraph"><p>Suppose we already have Spring Boot service, that uses Apache Camel for integration with other services and infrastructure. Specifically, the service produces messages to Apache Kafka.</p></div><div class="paragraph"><p>As a software engineers, we know that in our dynamic world there is only one constant&#8201;&#8212;&#8201;requirements to our software will change. So, we want to build the system that is easy to maintain and extend. In this concrete instance we are going to build integration with Kafka in such a way, that producing messages to new topics will not require changing sources (defining new routes), but simply translates to adding new configurations.</p></div></div></div><div class="sect1"><h2>2. Plan</h2><div class="sectionbody"><div class="paragraph"><p>Our approach will be the following:</p></div><div class="olist arabic"><ol class="arabic"><li><p>Define routes configuration</p></li><li><p>Read configuration on service startup</p></li><li><p>Build Camel routes, based on defined configurations</p></li><li><p>Add routes to Camel context</p></li></ol></div><div class="paragraph"><p>Basically, that&#8217;s it. As I already let out earlier&#8201;&#8212;&#8201;nothing really complex is needed to solve our task.</p></div></div></div><div class="sect1"><h2>3. Solution</h2><div class="sectionbody"><div class="paragraph"><p>For inpatient&#8201;&#8212;&#8201;<a href="https://github.com/zghurskyi/investigations/tree/master/investigation-camel-dynamic-routes" target="_blank" rel="noopener">here</a> is the link to the source code. For readers, that want to get more details.</p></div><div class="sect2"><h3>3.1. Define routes configuration</h3><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package com.oxymorus.configuration.properties;

import lombok.Data;

import javax.validation.Valid;
import javax.validation.constraints.NotEmpty;
import javax.validation.constraints.NotNull;
import java.util.Map;

@Data
public class CamelKafkaProducerProperties {

    @NotEmpty
    private Map&lt;String, @Valid ProducerProperties&gt; producers;

    @Data
    public static class ProducerProperties {
        @NotNull
        private String brokers;
        @NotNull
        private String topic;
        @NotNull
        private String serializerClass = "org.apache.kafka.common.serialization.StringSerializer";
        @NotNull
        private String keySerializerClass = "org.apache.kafka.common.serialization.StringSerializer";

        public String getUri() {
            return "kafka:start" +
                    "?brokers=" + brokers +
                    "&amp;topic=" + topic +
                    "&amp;serializerClass=" + serializerClass +
                    "&amp;keySerializerClass=" + keySerializerClass;
        }
    }
}</code></pre></div></div><div class="paragraph"><p>Also, don&#8217;t forget to actually define several producer properties:</p></div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">camel.kafka.producers.test0.brokers=localhost:9092
camel.kafka.producers.test0.topic=test1

camel.kafka.producers.test1.brokers=localhost:9092
camel.kafka.producers.test1.topic=test2

camel.kafka.producers.test2.brokers=localhost:9092
camel.kafka.producers.test2.topic=test3</code></pre></div></div></div><div class="sect2"><h3>3.2. Build configured routes</h3><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package com.oxymorus.listener;

import lombok.RequiredArgsConstructor;
import lombok.extern.slf4j.Slf4j;
import org.apache.camel.CamelContext;
import org.apache.camel.LoggingLevel;
import org.apache.camel.builder.RouteBuilder;

import static com.oxymorus.configuration.properties.CamelKafkaProducerProperties.ProducerProperties;

@Slf4j
@RequiredArgsConstructor
public class CamelKafkaProducerRoutesBuilder extends RouteBuilder {

    private final String key;
    private final ProducerProperties producerProperties;

    public CamelKafkaProducerRoutesBuilder(CamelContext context, String key, ProducerProperties producerProperties) {
        super(context);
        this.key = key;
        this.producerProperties = producerProperties;
    }

    @Override
    public void configure() throws Exception {
        from("direct:producer-" + key)
                .log(LoggingLevel.INFO, "Sending to Kafka: ${body}")
                .to(producerProperties.getUri())
                .log("Successfully sent ${body}");
    }
}</code></pre></div></div></div><div class="sect2"><h3>3.3. Initialize routes on service startup</h3><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package com.oxymorus.listener;

import com.oxymorus.configuration.properties.CamelKafkaProducerProperties;
import lombok.RequiredArgsConstructor;
import lombok.extern.slf4j.Slf4j;
import org.apache.camel.CamelContext;
import org.springframework.boot.context.event.ApplicationReadyEvent;
import org.springframework.context.event.EventListener;

import java.util.List;
import java.util.stream.Collectors;

@Slf4j
@RequiredArgsConstructor
public class CamelKafkaRoutesInitializingListener {

    private final CamelKafkaProducerProperties producerProperties;
    private final CamelContext camelContext;

    @EventListener(ApplicationReadyEvent.class)
    public void initializeRoutes() {
        try {
            log.info("Building Kafka producer routes: " + producerProperties);
            List&lt;CamelKafkaProducerRoutesBuilder&gt; routesBuilders = producerRoutesBuilder();
            for (CamelKafkaProducerRoutesBuilder routesBuilder : routesBuilders) {
                camelContext.addRoutes(routesBuilder);
            }
        } catch (Exception exception) {
            log.error("Failed to build dynamic routes: " + producerProperties, exception);
        }
    }

    private List&lt;CamelKafkaProducerRoutesBuilder&gt; producerRoutesBuilder() {
        return producerProperties.getProducers().entrySet().stream()
                .map(e -&gt; new CamelKafkaProducerRoutesBuilder(camelContext, e.getKey(), e.getValue()))
                .collect(Collectors.toList());
    }
}</code></pre></div></div></div></div></div><div class="sect1"><h2>4. Smoke Testing</h2><div class="sectionbody"><div class="paragraph"><p>As good people, we should test our software. But today I&#8217;m lazy and will do only manual testing.</p></div><div class="ulist"><ul><li><p>Start local kafka broker</p></li></ul></div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-shell script hljs" data-lang="shell script">$ cd docker
$ docker-compose up</code></pre></div></div><div class="ulist"><ul><li><p>Start console consumer</p></li></ul></div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-shell script hljs" data-lang="shell script">$ docker run --tty --rm --interactive \
              --network=host \
              confluentinc/cp-kafkacat \
              kafkacat -C -b localhost:9092 -t test1</code></pre></div></div><div class="ulist"><ul><li><p>Start the service</p></li></ul></div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">$ mvn clean install
$ mvn spring-boot:run</code></pre></div></div><div class="paragraph"><p>Or alternatively:</p></div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">$ java -jar target/investigation-camel-dynamic-routes-1.0-SNAPSHOT.jar</code></pre></div></div></div></div><div class="sect1"><h2>5. Conclusions</h2><div class="sectionbody"><div class="paragraph"><p>So, as turned out&#8201;&#8212;&#8201;it&#8217;s not a big deal to dynamically add routes to Apache Camel. In this post I described a way for Kafka producer routes, but nothing prevents you to use the same approach for any other Camel routes.</p></div></div></div><section class="post-tags"><a href="/tags/apache-camel/" class="tag post-meta">#Apache Camel</a><a href="/tags/apache-kafka/" class="tag post-meta">#Apache Kafka</a><a href="/tags/dynamic-routes/" class="tag post-meta">#Dynamic Routes</a><a href="/tags/spring-boot/" class="tag post-meta">#Spring Boot</a></section><footer class="post-footer"><img src="https://www.gravatar.com/avatar/729584bb1060b4346ad910cf602ffc1c?s=200" class="img-responsive img-circle"><div class="row author"><div class="col-lg-8 col-lg-offset-2 col-xs-10 col-xs-offset-1"><h4>Oleksii Zghurskyi</h4><p></p><ul class="social-links"><li><a href="https://twitter.com/zghurskyi" onclick="return window.open(this.href),!1"><span class="fa fa-twitter"></span></a></li><li><a href="https://github.com/zghurskyi" onclick="return window.open(this.href),!1"><span class="fa fa-github"></span></a></li><li><a href="https://stackoverflow.com/users/2810730/oleksii-zghurskyi?tab=profile" onclick="return window.open(this.href),!1"><span class="fa fa-stack-overflow"></span></a></li><li><a href="https://www.linkedin.com/in/oleksii-zghurskyi-96500175/" onclick="return window.open(this.href),!1"><span class="fa fa-linkedin"></span></a></li></ul></div></div></footer><section class="related-posts"><h2>You may also like</h2><div class="row"><div class="col-lg-4"><a href="/camel-masking-sensitive-information/"><img src="/images/bg-index.jpg" class="img-responsive"><h3>Apache Camel: Masking sensitive information</h3></a><p>It&#8217;s pretty common to log incoming requests or message bodies via Log component. Usually, logging incoming data is harmless. However, sometime you may accidentally include secure/sensitive in...</p></div><div class="col-lg-4"><a href="/kafkacat-overview/"><img src="/images/bg-index.jpg" class="img-responsive"><h3>Tool Of The Day: kafkacat</h3></a><p>Handy tool for quick producing/consuming Kafka messages and more.</p></div><div class="col-lg-4"><a href="/kafka-provision-spring-boot-starter/"><img src="/images/bg-index.jpg" class="img-responsive"><h3>Kafka Provision Spring Boot Starter</h3></a><p>Kafka Provision Spring Boot Starter enables distributed Kafka topics provisioning and centralized topic configs management.</p></div></div></section></article><nav role="pagination" class="pagination"><a href="/camel-masking-sensitive-information/" class="pull-left btn">← Next post</a><a href="/concurrent-sum-of-numbers/" class="pull-right btn">Previous post →</a></nav><div class="disqus-comments"><div class="comments"><div id="disqus_thread"></div></div></div><script>var url_parts=window.location.href.split("?"),disqus_url=url_parts[0];!function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="//oxymorus.disqus.com/embed.js",(document.head||d.body).appendChild(t)}()</script></div></div></div><script id="dsq-count-scr" src="//oxymorus.disqus.com/count.js"></script><footer class="site-footer"><div class="container-fluid"><div class="row"><div class="col-lg-10 col-lg-offset-1 col-xs-10 col-xs-offset-1"><div class="row"><div class="col-lg-4"><h4>https://www.zghurskyi.com/ © 2022</h4><p><em>"Lock it, fill it, curl it, find it, View it, code it, jam, unlock it"</em></p><p><a href="/privacy-policy/">Privacy policy</a></p><p>This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png"></a></p></div><div class="col-lg-4"><h4 class="marked">Recent articles</h4><section class="recent-posts"><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/russia-invaded-ukraine/">RUSSIAN GENOCIDE IN UKRAINE</a></li><li class="post-list-item"><a class="post-list-link" href="/pessimistic-locking-with-reactor-and-aerospike/">Pessimistic locking with Aerospike and Project Reactor</a></li><li class="post-list-item"><a class="post-list-link" href="/optimistic-locking-with-reactor-and-aerospike/">Optimistic locking with Aerospike and Project Reactor</a></li><li class="post-list-item"><a class="post-list-link" href="/kafkacat-overview/">Tool Of The Day: kafkacat</a></li><li class="post-list-item"><a class="post-list-link" href="/lost-update/">Lost Update Phenomena</a></li><li class="post-list-item"><a class="post-list-link" href="/zsh/">How to install Zsh on Ubuntu</a></li></ul></section></div><div class="col-lg-4"><h4 class="marked">Stay connected</h4><div class="social-links"><ul><li><a href="https://twitter.com/zghurskyi" onclick="return window.open(this.href),!1"><span class="fa fa-twitter"></span></a></li><li><a href="https://github.com/zghurskyi" onclick="return window.open(this.href),!1"><span class="fa fa-github"></span></a></li><li><a href="https://stackoverflow.com/users/2810730/oleksii-zghurskyi?tab=profile" onclick="return window.open(this.href),!1"><span class="fa fa-stack-overflow"></span></a></li><li><a href="https://www.linkedin.com/in/oleksii-zghurskyi-96500175/" onclick="return window.open(this.href),!1"><span class="fa fa-linkedin"></span></a></li></ul></div><h4 class="marked">Most popular tags</h4><section class="tagcloud"><a href="/tags/acid/" style="font-size:8pt;color:#6a6a6a">ACID</a> <a href="/tags/aerospike/" style="font-size:16pt;color:#858585">Aerospike</a> <a href="/tags/apache-camel/" style="font-size:16pt;color:#858585">Apache Camel</a> <a href="/tags/apache-kafka/" style="font-size:24pt;color:#9f9f9f">Apache Kafka</a> <a href="/tags/authentication/" style="font-size:8pt;color:#6a6a6a">Authentication</a> <a href="/tags/camelcustomlogmask/" style="font-size:8pt;color:#6a6a6a">CamelCustomLogMask</a> <a href="/tags/data-access-layer/" style="font-size:16pt;color:#858585">Data Access Layer</a> <a href="/tags/decorator-pattern/" style="font-size:8pt;color:#6a6a6a">Decorator pattern</a> <a href="/tags/docker/" style="font-size:32pt;color:#bababa">Docker</a> <a href="/tags/dynamic-routes/" style="font-size:8pt;color:#6a6a6a">Dynamic Routes</a> <a href="/tags/java-11/" style="font-size:16pt;color:#858585">Java 11</a> <a href="/tags/java-8/" style="font-size:16pt;color:#858585">Java 8</a> <a href="/tags/maven/" style="font-size:16pt;color:#858585">Maven</a> <a href="/tags/mysql/" style="font-size:8pt;color:#6a6a6a">MySQL</a> <a href="/tags/optimistic-locking/" style="font-size:16pt;color:#858585">Optimistic Locking</a> <a href="/tags/password-masking/" style="font-size:8pt;color:#6a6a6a">Password masking</a> <a href="/tags/pessimistic-locking/" style="font-size:16pt;color:#858585">Pessimistic Locking</a> <a href="/tags/project-reactor/" style="font-size:16pt;color:#858585">Project Reactor</a> <a href="/tags/spring-boot/" style="font-size:24pt;color:#9f9f9f">Spring Boot</a> <a href="/tags/transaction/" style="font-size:8pt;color:#6a6a6a">Transaction</a> <a href="/tags/ubuntu/" style="font-size:8pt;color:#6a6a6a">Ubuntu</a> <a href="/tags/ukraine/" style="font-size:8pt;color:#6a6a6a">Ukraine</a> <a href="/tags/clone/" style="font-size:8pt;color:#6a6a6a">clone</a> <a href="/tags/jq/" style="font-size:8pt;color:#6a6a6a">jq</a> <a href="/tags/microk8s/" style="font-size:8pt;color:#6a6a6a">microk8s</a></section></div></div></div></div></div><section class="poweredby"><ul class="text-center"><li><span>Published with </span><a href="https://hexo.io" onclick="return window.open(this.href),!1"><img src="/img/logo-hexo.png"></a></li><li><span>Hosted on </span><a href="https://github.com/zghurskyi/zghurskyi.github.io" onclick="return window.open(this.href),!1"><img src="/img/logo-github.png"></a></li><li><span>Deployed with </span><a href="https://app.travis-ci.com/zghurskyi/zghurskyi.github.io" onclick="return window.open(this.href),!1"><img src="/img/logo-travis.png"></a></li></ul></section></footer><script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script><script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script><script id="cookiebanner" src="//cdnjs.cloudflare.com/ajax/libs/cookie-banner/1.2.2/cookiebanner.min.js" data-moreinfo="/privacy-policy/" data-message="This blog uses cookies to enhance your experience. By continuing to visit it you agree to its use of cookies." data-link="#ffad33" data-font-family="Lora,serif" data-font-size="1.6rem" data-bg="#444"></script><script id="warbanner" src="//cdnjs.cloudflare.com/ajax/libs/cookie-banner/1.2.2/cookiebanner.min.js" data-moreinfo="/war-in-ukraine/" data-message="Russia invaded Ukraine and started genocide of civilian people. You can help &lt;a href='https://www.comebackalive.in.ua/'&gt;here&lt;/a&gt;" data-link="#ffad33" data-font-family="Lora,serif" data-font-size="1.6rem" data-bg="#444"></script><script src="/js/main.js?v=5"></script><script src="/js/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad()</script><script>"localhost"!==window.location.hostname&&"127.0.0.1"!==window.location.hostname&&(!function(a,e,n,o,t,c,g){a.GoogleAnalyticsObject=t,a.ga=a.ga||function(){(a.ga.q=a.ga.q||[]).push(arguments)},a.ga.l=1*new Date,c=e.createElement(n),g=e.getElementsByTagName(n)[0],c.async=1,c.src="//www.google-analytics.com/analytics.js",g.parentNode.insertBefore(c,g)}(window,document,"script",0,"ga"),ga("create","UA-143749857-1","auto"),ga("send","pageview"))</script></body></html>